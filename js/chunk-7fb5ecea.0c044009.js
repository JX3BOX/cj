(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fb5ecea"],{"07ac":function(t,e,s){var a=s("23e7"),i=s("6f53").values;a({target:"Object",stat:!0},{values:function(t){return i(t)}})},1148:function(t,e,s){"use strict";var a=s("5926"),i=s("577e"),n=s("1d80"),r=RangeError;t.exports=function(t){var e=i(n(this)),s="",o=a(t);if(o<0||o==1/0)throw r("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(s+=e);return s}},"1b86":function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return r}));var a=s("41cb");function i(t,e){return Object(a["d"])().get("/pet/"+t,{params:e})}const n={get({type:t,id:e},s){return Object(a["b"])().get("/api/wiki/post",{params:{...s,type:t,source_id:e}})},getById(t,e){return Object(a["b"])().get("/api/wiki/post/"+t,{params:e})},list({type:t},e){return Object(a["b"])().get("/api/wiki/posts/newest",{params:{...e,type:t}})},post({type:t,data:e,client:s},i){return Object(a["b"])().post("/api/wiki/post",{post:{...e,type:t},client:s},{params:i})},versions({type:t,id:e},s){return Object(a["b"])().get("/api/wiki/post/versions",{params:{...s,type:t,source_id:e}})},myList(t){return Object(a["b"])().get("/api/my/wiki/posts",{params:t})},delete(t){return Object(a["b"])().put(`/api/my/wiki/post/${t}/remove`)},async handleMix(t,e,s,a){let i="",n="",r=!0,o=!1;if("std"===s){const c=await this.get({type:t,id:e},{client:s,...a});return i=c.data.data.post,n=c.data.data.source,i&&(r=!1),console.log("èŽ·å–é‡åˆ¶æ”»ç•¥"),{post:i,source:n,isEmpty:r,compatible:o}}{const c=await this.get({type:t,id:e},{client:s,...a});n=c.data.data.source,i=c.data.data.post,i&&(r=!1),console.log("èŽ·å–ç¼˜èµ·æ”»ç•¥");const l=!!c.data.data.post;return l?{post:i,source:n,isEmpty:r,compatible:o}:(console.log("å…¼å®¹ï¼šèŽ·å–é‡åˆ¶æ”»ç•¥"),this.get({type:t,id:e},{client:"std",...a}).then(t=>(i=t.data.data.post,n||(n=t.data.data.source),i&&(r=!1),o=!0,{post:i,source:n,isEmpty:r,compatible:o})))}},async mix({type:t,id:e,client:s},a){let n="",r="";if(n="cj"===t?"achievement":"pet"===t?"item":t||"achievement",e){if(r=e,"pet"===t){const t=await i(e,{client:s});let r=t.data,o=r.ItemTabType+"_"+r.ItemTabIndex;return this.handleMix(n,o,s,a)}return this.handleMix(n,r,s,a)}}},r={list({type:t,id:e},s){return Object(a["b"])().get("/api/wiki/comments",{params:{...s,type:t,source_id:e}})},post({data:t},e){return Object(a["b"])().post("/api/wiki/comment",{...t},{params:e})},delete(t){return Object(a["b"])().put(`/api/my/wiki/comment/${t}/remove`)},myList(t){return Object(a["b"])().get("/api/my/wiki/comments",{params:t})}}},"38cf":function(t,e,s){var a=s("23e7"),i=s("1148");a({target:"String",proto:!0},{repeat:i})},"6f53":function(t,e,s){var a=s("83ab"),i=s("e330"),n=s("df75"),r=s("fc6a"),o=s("d1e7").f,c=i(o),l=i([].push),u=function(t){return function(e){var s,i=r(e),o=n(i),u=o.length,p=0,d=[];while(u>p)s=o[p++],a&&!c(i,s)||l(d,t?[s,i[s]]:i[s]);return d}};t.exports={entries:u(!0),values:u(!1)}},bb51:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-home-view"},[s("WikiPanel",{attrs:{"border-none":!0}},[s("template",{slot:"head-title"},[s("i",{staticClass:"el-icon-location-information"}),s("span",[t._v("ä¾¿æ·å…¥å£")])]),s("template",{slot:"head-actions"},[s("a",{staticClass:"other",attrs:{target:"_blank",href:t.feedback}},[t._v("åé¦ˆå»ºè®® Â»")])]),s("template",{slot:"body"},[s("ul",{staticClass:"u-qlinks"},[s("li",{staticClass:"u-qlink"},[s("a",{staticStyle:{"background-color":"#fe7979"},attrs:{target:"_blank",href:"/tool/9126/"}},[s("i",{staticClass:"el-icon-trophy"}),s("span",[t._v("æ¸¸æˆå†…çœ‹ç™¾ç§‘")])])]),s("li",{staticClass:"u-qlink"},[s("router-link",{attrs:{to:{name:"waiting"}}},[s("i",{staticClass:"el-icon-edit-outline"}),s("span",[t._v("å¾…æ”»ç•¥æˆå°±")])])],1),s("li",{staticClass:"u-qlink"},[s("a",{attrs:{target:"_blank",href:"/bbs/8104"}},[s("i",{staticClass:"el-icon-medal"}),s("span",[t._v("éšè—æˆå°±")])])]),s("li",{staticClass:"u-qlink"},[s("a",{attrs:{target:"_blank",href:"/adventure"}},[s("i",{staticClass:"el-icon-ice-drink"}),s("span",[t._v("å¥‡é‡å¤§å…¨")])])]),s("li",{staticClass:"u-qlink"},[s("a",{attrs:{target:"_blank",href:"/pet"}},[s("i",{staticClass:"el-icon-lollipop"}),s("span",[t._v("å® ç‰©å¤§å…¨")])])])])])],2),s("WikiPanel",{attrs:{"border-none":!0}},[s("template",{slot:"head-title"},[s("i",{staticClass:"el-icon-notebook-1"}),s("span",[t._v("çƒ­é—¨æˆå°±")])]),s("template",{slot:"body"},[s("div",{staticClass:"m-achievement-slider"},[s("el-carousel",{attrs:{height:"66px",direction:"vertical","indicator-position":"none"}},t._l(t.hot_achievements,(function(e,a){return s("el-carousel-item",{key:a,staticClass:"m-carousel m-hot"},[s("el-row",{attrs:{gutter:20}},[t._l(e,(function(e,a){return[e?s("el-col",{key:a,attrs:{md:8}},[s("router-link",{staticClass:"u-item",class:"u-item-"+a,attrs:{to:{name:"view",params:{source_id:e.ID}}}},[s("div",{staticClass:"u-icon"},[s("img",{attrs:{src:t.icon_url(e.IconID)},on:{"~error":function(e){return function(){e.target.src=t.icon_url()}.apply(null,arguments)}}})]),s("div",{staticClass:"m-carousel-content"},[s("span",{staticClass:"u-title"},[s("i",{staticClass:"el-icon-medal"}),s("span",{domProps:{textContent:t._s(" "+e.Name)}})]),s("span",{staticClass:"u-desc"},[s("i",{staticClass:"el-icon-mic"}),s("span",{domProps:{innerHTML:t._s(" "+e.Desc)}})]),t.views[e.ID]?s("span",{staticClass:"u-rank"},[s("i",{staticClass:"el-icon-watermelon"}),s("span",{domProps:{textContent:t._s("æ˜¨æ—¥ - "+t.views[e.ID]["yesterday"])}}),s("i",{staticClass:"el-icon-grape"}),s("span",{domProps:{textContent:t._s("ä¸ƒå¤© - "+t.views[e.ID]["7days"])}}),s("i",{staticClass:"el-icon-pear"}),s("span",{domProps:{textContent:t._s("ä¸‰åå¤© - "+t.views[e.ID]["30days"])}})]):t._e()])])],1):t._e()]}))],2)],1)})),1)],1)])],2),s("WikiPanel",{attrs:{"border-none":!0}},[s("template",{slot:"head-title"},[s("i",{staticClass:"el-icon-notebook-2"}),s("span",[t._v("æœ€æ–°æˆå°±")])]),s("template",{slot:"head-actions"},[s("router-link",{staticClass:"other",attrs:{to:{name:"newest"}}},[t._v("æŸ¥çœ‹æ›´å¤š Â»")])],1),s("template",{slot:"body"},[s("el-carousel",{attrs:{height:"66px",direction:"vertical",interval:3500,"indicator-position":"none"}},t._l(t.newest_achievements,(function(e,a){return s("el-carousel-item",{key:a,staticClass:"m-carousel"},[s("el-row",{attrs:{gutter:20}},t._l(e,(function(e,a){return s("el-col",{key:a,attrs:{md:8}},[s("router-link",{staticClass:"u-item u-item-new",class:"u-item-"+a,attrs:{to:{name:"view",params:{source_id:e.ID}}}},[s("div",{staticClass:"u-icon"},[s("img",{attrs:{src:t.icon_url(e.IconID)}})]),s("div",{staticClass:"m-carousel-content"},[s("span",{staticClass:"u-title"},[s("i",{staticClass:"el-icon-medal"}),s("span",{domProps:{textContent:t._s(" "+e.Name)}})]),s("span",{staticClass:"u-desc"},[s("i",{staticClass:"el-icon-mic"}),s("span",{domProps:{innerHTML:t._s(" "+e.Desc)}})])])])],1)})),1)],1)})),1)],1)],2),s("WikiPanel",{attrs:{"border-none":!0}},[s("template",{slot:"head-title"},[s("i",{staticClass:"el-icon-collection"}),s("span",[t._v("æœ€è¿‘æ”»ç•¥")])]),s("template",{slot:"body"},[s("el-row",{staticClass:"m-posts"},t._l(t.newest_posts,(function(e,a){return s("el-col",{key:a,staticClass:"m-post"},[s("div",{staticClass:"m-head"},[s("div",{staticClass:"m-achievement"},[s("div",{staticClass:"u-achievement"},[s("img",{staticClass:"u-icon",attrs:{src:t.icon_url(e.source_icon_id)},on:{"~error":function(e){e.target.src=t.icon_url("")}}}),s("router-link",{staticClass:"u-name",attrs:{to:{name:"view",params:{source_id:e.source_id}}},domProps:{textContent:t._s(e.title)}})],1),s("div",{staticClass:"u-level",domProps:{textContent:t._s("ç»¼åˆéš¾åº¦ï¼š"+t.star(e.level))}}),e.remark?s("div",{staticClass:"u-remark",domProps:{textContent:t._s("ðŸ“‘ "+e.remark)}}):t._e()]),s("div",{staticClass:"m-user"},[s("div",{staticClass:"u-author"},[s("img",{staticClass:"u-icon",attrs:{src:t._f("showAvatar")(e.user_avatar),alt:e.user_nickname}}),s("a",{staticClass:"u-name",attrs:{href:e.user_id?t.author_url(e.user_id):null},domProps:{textContent:t._s(e.user_nickname)}})]),s("div",{staticClass:"u-updated",domProps:{textContent:t._s(t.ts2str(e.updated))}})])]),s("div",{staticClass:"m-body"},[s("div",{staticClass:"u-excerpt",attrs:{to:{name:"view",params:{source_id:e.source_id}}},domProps:{innerHTML:t._s(t.ellipsis(e.excerpt))}})])])})),1)],1)],2)],1)},i=[],n=(s("498a"),s("fb6a"),s("d3b7"),s("159b"),s("2ca0"),s("b0c0"),s("ac1f"),s("1276"),s("07ac"),s("65c2")),r=s("9616"),o=s("1b86"),c=s("85e4"),l=s("662c"),u=s("262e"),p=s("cefb"),d={name:"Home",data:function(){return{views:{},hot_achievements:null,newest_achievements:null,newest_posts:null,feedback:n["feedback"]}},computed:{isStd:function(){return"std"==this.$store.state.client},client:function(){return this.$store.state.client}},components:{WikiPanel:l["a"]},methods:{icon_url:function(t){return Object(c["iconLink"])(t,this.client)},author_url:c["authorLink"],ts2str:c["ts2str"],star:p["a"],ellipsis:function(t){return t=t?t.trim():"",t.length>100?t.slice(0,100)+"...":t},chuck:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=[],a=0;a<t.length;a+=e)s.push(t.slice(a,a+e));return s}},filters:{showAvatar:function(t){return Object(c["showAvatar"])(t)}},created:function(){var t=this,e="origin"==this.client?"origin_cj":"cj";Object(r["b"])(e,"views",12).then((function(e){e=e.data;var s=[];e.forEach((function(e){if(e.name.startsWith("cj")){var a=e.name.split("-").pop();s.push(a),t.views[a]=e.value}})),Object(u["b"])({ids:s,limit:s.length}).then((function(e){e=e.data,t.hot_achievements=t.chuck(Object.values(e.data.achievements))}))})),Object(u["b"])({limit:12}).then((function(e){e=e.data,t.newest_achievements=t.chuck(Object.values(e.data.achievements))}),(function(){t.newest_achievements=!1})),o["a"].list({type:"achievement"}).then((function(e){e=e.data,t.newest_posts=e.data.newest}),(function(){t.newest_posts=!1}))}},m=d,v=(s("de16"),s("2877")),h=Object(v["a"])(m,a,i,!1,null,null,null);e["default"]=h.exports},cefb:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));s("38cf");var a=function(t){return"â­ï¸".repeat(t||1)}},de16:function(t,e,s){"use strict";s("ea6e")},ea6e:function(t,e,s){}}]);
//# sourceMappingURL=chunk-7fb5ecea.0c044009.js.map